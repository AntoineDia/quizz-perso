(function(t){function n(n){for(var i,a,r=n[0],l=n[1],u=n[2],d=0,p=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(n);while(p.length)p.shift()();return o.push.apply(o,u||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],i=!0,r=1;r<e.length;r++){var l=e[r];0!==s[l]&&(i=!1)}i&&(o.splice(n--,1),t=a(a.s=e[0]))}return t}var i={},s={app:0},o=[];function a(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=i,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)a.d(e,i,function(n){return t[n]}.bind(null,i));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=n,r=r.slice();for(var u=0;u<r.length;u++)n(r[u]);var c=l;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var i=e("1765"),s=e.n(i);s.a},1765:function(t,n,e){},3155:function(t,n,e){},"54a6":function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("8605"),e("7382"),e("a34d"),e("0c51");var i=e("2b0e"),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap",rel:"stylesheet"}}),e("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Nunito&display=swap",rel:"stylesheet"}}),0===Object.keys(t.config).length?e("div",{staticClass:"row max"},[e("h1",[t._v("Questionary")]),e("label",[t._v("Previous")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.oldJson,expression:"oldJson"}],attrs:{rows:"5",placeholder:"Enter a questionary config JSON"},domProps:{value:t.oldJson},on:{input:function(n){n.target.composing||(t.oldJson=n.target.value)}}}),e("br"),e("button",{on:{click:t.loadConfig}},[t._v("Load")]),e("br"),e("br"),e("button",{on:{click:function(n){t.config=t.Questionary()}}},[t._v("\n      New")])]):e("div",[e("div",{staticClass:"row"},[e("h1",[t._v("Main")]),e("div",{staticClass:"labelInput content"},[e("label",[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.config.name,expression:"config.name"}],attrs:{placeholder:"Name of the questionary"},domProps:{value:t.config.name},on:{input:function(n){n.target.composing||t.$set(t.config,"name",n.target.value)}}}),e("div",[e("button",{on:{click:function(n){t.config={}}}},[t._v("Return to title")])])])]),e("div",{staticClass:"row"},[e("h1",[t._v("Languages")]),e("div",{staticClass:"content langs"},t._l(t.langs,(function(n){return e("div",{key:n,staticClass:"lang",class:[n===t.langs[0]?"blue":""],on:{click:function(e){return t.removeLang(n)}}},[t._v(t._s(n))])})),0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newLang,expression:"newLang"}],staticClass:"gluedRigth tinyInput",class:{langError:t.langError},attrs:{placeholder:"Language",maxlength:"2"},domProps:{value:t.newLang},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.addLangage(n)},input:function(n){n.target.composing||(t.newLang=n.target.value)}}}),e("button",{staticClass:"gluedLeft",on:{click:t.addLangage}},[t._v("Add")])]),e("div",{staticClass:"row"},[e("h1",[t._v("Questions")]),t.langs[0]?e("Questions",{attrs:{questions:t.config.questions,langs:t.langs,config:t.config},on:{"update-id":function(n){t.lastQuestionId++}}}):e("p",[t._v("Add a language to edit questions")])],1)]),Object.keys(t.config).length>0?e("div",{staticClass:"row max"},[e("button",{on:{click:t.save}},[t._v("GET JSON")])]):t._e(),t.json.length>0?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.json,expression:"json"}],staticClass:"pre",staticStyle:{"text-align":"left","font-family":"'Roboto Mono'"},attrs:{readonly:"readonly"},domProps:{value:t.json},on:{input:function(n){n.target.composing||(t.json=n.target.value)}}}):t._e()])},o=[],a=(e("1595"),e("d19f"),e("e4f3"),e("2435"),e("d543"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._l(t.questionsInAllLangs,(function(n,i){return e("div",{key:n[i],attrs:{id:"questions"}},[e("div",{staticClass:"inline questionHead"},[e("label",[e("b",[t._v("Question "+t._s(i+1))])])]),e("div",{staticClass:"questionRow"},[e("div",{staticClass:"questionsInputs"},t._l(n,(function(n,i){return e("div",{key:i,staticClass:"questionTitle",class:[t.translationMode||i===t.langs[0]?"":"height0"]},[e("div",{staticClass:"tileLang gluedRigth",class:[i===t.langs[0]?"blue":""],on:{click:function(t){return t.target.nextElementSibling.focus()}}},[t._v(t._s(i))]),e("input",{directives:[{name:"model",rawName:"v-model",value:n.question,expression:"question.question"}],staticClass:"inputQuestion gluedLeft",attrs:{type:"text",placeholder:"What to ask?"},domProps:{value:n.question},on:{input:function(e){e.target.composing||t.$set(n,"question",e.target.value)}}})])})),0),e("div",{staticClass:"editAll",on:{click:function(n){t.editionMode===i?t.editionMode=-1:t.editionMode=i}}}),e("div",t._l(n,(function(n,i){return e("div",{key:i,staticClass:"buttonsHolder",class:[t.translationMode||i===t.langs[0]?"":"height0"]},[e("button",{staticClass:"edit delete",class:t.visibilityButton(i),on:{click:function(e){return t.removeQuestion(n.id)}}}),e("button",{staticClass:"edit translation",class:[t.visibilityButton(i),t.translationMode?"active":""],on:{click:function(n){t.translationMode=!t.translationMode}}})])})),0)]),e("div",{staticClass:"questionParams"},t._l(n,(function(n,s,o){return e("div",{key:o,staticClass:"inline params",class:[s===t.langs[0]?"":"hidden",t.editionMode===i?"":"height0"]},[e("div",[e("label",[t._v("Answers redirect")]),e("Redirect",{attrs:{qId:n.id,qIdInArray:o,holder:n,lang:s,config:t.config}}),e("label",[t._v("Answer layout")]),e("div",{staticClass:"dual"},[e("span",{staticClass:"leftLabel"},[t._v("Cols")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:n.col,expression:"question.col",modifiers:{number:!0}}],attrs:{type:"number",min:"1"},domProps:{value:n.col},on:{input:[function(e){e.target.composing||t.$set(n,"col",t._n(e.target.value))},function(n){return t.updateProp("question","col",i)}],blur:function(n){return t.$forceUpdate()}}}),e("span",{staticClass:"leftLabel"},[t._v("Rows")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:n.row,expression:"question.row",modifiers:{number:!0}}],attrs:{type:"number",min:"1"},domProps:{value:n.row},on:{input:[function(e){e.target.composing||t.$set(n,"row",t._n(e.target.value))},function(n){return t.updateProp("question","row",i)}],blur:function(n){return t.$forceUpdate()}}})]),e("label",[t._v("Number of choices")]),e("div",{staticClass:"dual"},[e("span",{staticClass:"leftLabel"},[t._v("Max")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:n.max,expression:"question.max",modifiers:{number:!0}}],attrs:{type:"number",min:"1"},domProps:{value:n.max},on:{input:[function(e){e.target.composing||t.$set(n,"max",t._n(e.target.value))},function(n){return t.updateProp("question","max",i)}],blur:function(n){return t.$forceUpdate()}}}),e("span",{staticClass:"leftLabel"},[t._v("Min")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:n.min,expression:"question.min",modifiers:{number:!0}}],attrs:{type:"number",min:"1"},domProps:{value:n.min},on:{input:[function(e){e.target.composing||t.$set(n,"min",t._n(e.target.value))},function(n){return t.updateProp("question","min",i)}],blur:function(n){return t.$forceUpdate()}}})])],1)])})),0),e("div",{staticClass:"answerRow"},[e("span",{staticClass:"optionsHead"},[t._v("Options")]),e("button",{staticClass:"optionEdit",on:{click:function(n){t.answerEdition===i?t.answerEdition=-1:t.answerEdition=i}}}),e("div",[t._l(t.optionByQuestion(i),(function(s,o){return e("div",{key:o,staticClass:"optionsRows",class:t.answerEdition!==i?"height0":""},[e("div",{staticClass:"optionsTitle"},[t._v("Option "+t._s(parseInt(o)+1))]),e("button",{staticClass:"edit delete optionDelete",on:{click:function(n){return t.removeOption(i,o)}}}),t._l(s,(function(s,a){return e("div",{key:a+o,staticClass:"optionsHolder"},[a===t.langs[0]?e("div",[e("label",[t._v("Illustration source")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.src,expression:"option.src"}],attrs:{type:"text",placeholder:"example: https://picsum.photos/200/300"},domProps:{value:s.src},on:{input:[function(n){n.target.composing||t.$set(s,"src",n.target.value)},function(n){return t.updateProp(i,"src",o)}]}})]):t._e(),a===t.langs[0]?e("div",[e("label",[t._v("Tags")]),e("input",{attrs:{type:"text",placeholder:"Separate each by a comma"},domProps:{value:s.tags.join(", ")},on:{input:function(n){t.parseTags(s,n.target.value),t.updateProp(i,"tags",o)}}})]):t._e(),a===t.langs[0]?e("div",[e("label",[t._v("Answers redirect")]),a===t.langs[0]?e("Redirect",{staticClass:"redirectInOptions",attrs:{qId:n[t.langs[0]].id,holder:s,lang:a,config:t.config,qIdInArray:i,optId:o}}):t._e()],1):t._e(),a===t.langs[0]?e("label",[t._v("Text")]):t._e(),e("div",{staticClass:"optionTextHolder",class:t.translationMode||a===t.langs[0]?"":"height0"},[e("div",{staticClass:"tileLang",class:a===t.langs[0]?"blue":"",on:{click:function(t){return t.target.nextElementSibling.focus()}}},[t._v(t._s(a))]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.text,expression:"option.text"}],attrs:{type:"text",placeholder:"Illustration subtitle"},domProps:{value:s.text},on:{input:function(n){n.target.composing||t.$set(s,"text",n.target.value)}}})])])}))],2)})),t.answerEdition===i?e("button",{staticClass:"add",class:t.answerEdition===i?"":"height0",on:{click:function(n){return t.addOption(i)}}},[t._v("Add option")]):t._e()],2)])])})),e("div",[e("button",{staticClass:"add",on:{click:t.addQuestion}},[t._v("Add question")])])],2)}),r=[],l=(e("62dd"),e("5036"),e("0490"),e("428d"),e("6ecd"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",[e("div",{staticClass:"holderRedirect"},[e("p",{staticClass:"selector",on:{click:t.toggleList}},[t._v(t._s(t.selectedBind))]),e("div",{staticClass:"optionsHolder"},[t._l(t.questionsChoice,(function(n,i){return e("p",{key:n.id+i,staticClass:"options",attrs:{value:n.id},on:{click:function(e){return t.updateNext(e,n)}}},[t._v(t._s(n.question))])})),e("p",{staticClass:"options finish",on:{click:function(n){return t.updateNext(n,-1)}}},[t._v("Finish")])],2)])])])}),u=[],c=(e("f0f5"),{name:"Redirect",props:["holder","lang","config","qId","optId","qIdInArray"],data:function(){return{next:!1,selected:"Next question (default)",id:""}},methods:{slide:function(t){return"translateY("+100*t+"%)"},toggleList:function(t){t.target.classList.toggle("active");var n=t.target.nextElementSibling;"block"===n.style.display?n.style.display="none":n.style.display="block"},updateAll:function(){if(this.optId)this.$parent.updateProp(this.qIdInArray,"next",this.optId);else{var t=this.$parent.questions[this.lang].findIndex(function(t){return t.id===this.holder.id}.bind(this));this.$parent.updateProp("question","next",t)}},updateNext:function(t,n){var e=t.target.parentElement.parentElement.querySelector(".selector");-1!==n?(this.id=n.id,this.holder.next=n.id):(this.id=-1,this.holder.next=-1),this.updateAll(),e.dispatchEvent(new Event("click"))}},watch:{holder:{deep:!0,handler:function(){this.id=this.holder.next}}},computed:{questionsChoice:function(){var t=this,n=this,e=[];this.config.questions[this.lang].forEach((function(n,i){if(n.id===t.qId)return t.next=!0;var s={};t.next?(""===t.id&&(t.id=n.id),s={id:n.id,question:"Next Question: "+(n.question||"Question "+(i+1))}):s={id:n.id,question:"Question "+(i+1)+" "+n.question},e.push(s),t.next=!1})),this.next=!1;var i=!1;return e.forEach(function(t){this.id===t.id&&(i=!0)}.bind(this)),i||-1===this.id||(this.id=""),n.holder.next=this.id,""!==this.id&&this.updateAll(),e},selectedBind:function(){var t=this;if(-1===this.id)return"Finish";if(""===this.id)return"Next question (default)";var n=this.questionsChoice.find((function(n){return n.id===t.id}));return n?n.question?n.question:"Question n°"+n.id+" (no question text yet)":this.selected}}}),d=c,p=(e("8f1a"),e("ea2e")),f=Object(p["a"])(d,l,u,!1,null,"0a622f1a",null),g=f.exports,h={name:"Questions",components:{Redirect:g},data:function(){return{translationMode:!0,editionMode:-1,answerEdition:!1,currentQ:{id:null,lang:null}}},props:["questions","langs","config"],computed:{questionsInAllLangs:function(){var t=this;return this.questions[this.langs[0]].map((function(n,e){return t.langs.reduce((function(n,i){return n[i]=t.questions[i][e],n}),{})}))}},methods:{updateProp:function(t,n,e){"question"===t?this.langs.slice(1).forEach(function(t){this.questions[t][e][n]=this.questions[this.langs[0]][e][n]}.bind(this)):this.langs.slice(1).forEach(function(i){this.questions[i][t].options[e][n]=this.questions[this.langs[0]][t].options[e][n]}.bind(this))},addQuestion:function(){this.$emit("update-id");var t=this;this.langs.forEach((function(n){t.questions[n].push(t.$parent.Question())}),{})},removeQuestion:function(t){var n=this.questions[this.langs[0]].findIndex((function(n){return n.id===t}));this.langs.forEach(function(t){this.questions[t].splice(n,1)}.bind(this))},addOption:function(t){this.langs.forEach(function(n){this.questions[n][t].options.push(this.$parent.Answer())}.bind(this))},removeOption:function(t,n){this.langs.forEach(function(e){this.questions[e][t].options.splice(n,1)}.bind(this))},visibilityButton:function(t){return this.translationMode&&t!==this.langs[0]?"transparent":""},optionByQuestion:function(t){var n=this.questionsInAllLangs[t],e={};for(var i in n[this.langs[0]].options)e[i]||(e[i]={}),this.langs.forEach((function(t){e[i][t]=n[t].options[i]}));return e},parseTags:function(t,n){t.tags=n.replace(/\s/g,"").split(",")}}},v=h,m=(e("cffb"),Object(p["a"])(v,a,r,!1,null,null,null)),b=m.exports,y={name:"App",components:{Questions:b},data:function(){return{json:"",oldJson:"",defaultLangs:["fr","en","nl"],langs:[],config:{},newLang:"",langError:!1,lastQuestionId:0,needDisaplay:!1}},computed:{lang0:function(){return this.langs?this.langs[0]:null}},methods:{loadConfig:function(){try{var t=JSON.parse(this.oldJson);this.langs=Object.keys(t.questions),this.config=t}catch(n){alert("JSON Incorect")}},Questionary:function(){this.langs=this.defaultLangs;var t=this;return{name:"",questions:t.defaultLangs.reduce((function(n,e){return n[e]=[t.Question()],n}),{})}},Question:function(){var t=this;return{id:"q"+t.lastQuestionId,question:"",next:"",max:1,min:1,col:2,row:1,options:[t.Answer(),t.Answer()]}},Answer:function(){return{text:"",src:"",tags:[],next:""}},removeLang:function(t){this.langs.splice(this.langs.indexOf(t),1),delete this.config.questions[t]},addLangage:function(){if(this.newLang=this.newLang.toLowerCase(),this.newLang.length<2||~this.langs.indexOf(this.newLang)){var t=this;return setTimeout((function(){t.langError=!1}),2e3),this.langError=!0}this.langs.push(this.newLang),this.$set(this.config.questions,this.newLang,[]),this.fillQuestions(this.newLang),this.newLang=""},fillQuestions:function(t){var n=this;this.config.questions[this.lang0].forEach((function(e,i){n.$set(n.config.questions[t],i,n.Question()),n.config.questions[t][i].id=n.config.questions[n.lang0][i].id}))},save:function(){this.json=JSON.stringify(this.config,null,2);var t=this;setTimeout((function(){var n=document.getElementsByClassName("pre")[0];n.style.cssText="height:"+(n.scrollHeight+50)+"px",n.select(),n.setSelectionRange(0,99999),document.execCommand("copy"),t.json="Copied to clipboard!\n\n"+t.json}),0)}}},q=y,x=(e("034f"),Object(p["a"])(q,s,o,!1,null,null,null)),_=x.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(_)}}).$mount("#app")},"8f1a":function(t,n,e){"use strict";var i=e("54a6"),s=e.n(i);s.a},cffb:function(t,n,e){"use strict";var i=e("3155"),s=e.n(i);s.a}});
//# sourceMappingURL=app.bde21187.js.map