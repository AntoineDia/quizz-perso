(function(e){function t(t){for(var i,a,r=t[0],l=t[1],c=t[2],d=0,g=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&g.push(s[a][0]),s[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(g.length)g.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==s[l]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},s={app:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0238":function(e,t,n){},"034f":function(e,t,n){"use strict";var i=n("1765"),s=n.n(i);s.a},"082a":function(e,t,n){"use strict";var i=n("0238"),s=n.n(i);s.a},1765:function(e,t,n){},"3a4c":function(e,t,n){},"4a26":function(e,t,n){"use strict";var i=n("88dd"),s=n.n(i);s.a},5234:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("8605"),n("7382"),n("a34d"),n("0c51");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",[n("Collapible",{attrs:{name:"Main",childComponent:"Main",config:e.config}}),n("Collapible",{attrs:{name:"Languages",childComponent:"Langues",config:e.config}}),n("Collapible",{attrs:{name:"Questions",childComponent:"Questions",config:e.config}})],1),n("div",{staticClass:"save"},[n("button",{on:{click:e.save}},[e._v("Get JSON")]),n("div",[n("br"),e._v(e._s(e.msg))])])])},o=[],a=(n("d19f"),n("2435"),n("1595"),n("3363"),["fr"]);function r(){this.src="",this.tags=[],this.next=""}function l(){this.question="",this.id="q"+Date.now(),this.next="",this.max=1,this.min=1,this.col=2,this.row=1,this.options=[new r,new r]}function c(){var e=this;this.name="",this.langs=a,this.questions={},this.langs.forEach((function(t){e.questions[t]=[new l]}))}c.prototype.addLang=function(e){if(~this.langs.indexOf(e))throw new Error("This language already exist");this.langs.push(e)};var u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"collapsible",on:{click:e.toggle}},[e._v(e._s(e.name))]),n("p",{staticClass:"content"},[n(e.childComponent,{tag:"component",staticClass:"child",attrs:{config:e.config}})],1)])},d=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab"},[n("label",[e._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.name,expression:"config.name"}],attrs:{type:"text",placeholder:"Questionary Name"},domProps:{value:e.config.name},on:{input:function(t){t.target.composing||e.$set(e.config,"name",t.target.value)}}})])},f=[],p={name:"Main",props:["config"]},v=p,m=n("ea2e"),h=Object(m["a"])(v,g,f,!1,null,null,null),w=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab"},[e._l(e.config.langs,(function(t){return n("div",{key:t,staticClass:"selectedLang",on:{click:function(n){return e.removeLang(t)}}},[e._v(e._s(t))])})),n("div",{staticClass:"newLang"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newLang,expression:"newLang"}],attrs:{maxlength:"2",type:"text",placeholder:"Lang"},domProps:{value:e.newLang},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newLangage(t)},input:function(t){t.target.composing||(e.newLang=t.target.value)}}}),n("button",{on:{click:e.newLangage}},[e._v("Add")])])],2)},x=[],y=(n("d40f"),n("bfd7"),{name:"Langues",props:["config"],data:function(){return{newLang:""}},methods:{newLangage:function(){var e=this;if(2!==this.newLang.length||this.config.langs.includes(this.newLang))return document.querySelector(".newLang input").className="error";document.querySelector(".newLang input").className="";var t=this.config.langs[0];t||(t=this.newLang),i["a"].set(this.config.questions,this.newLang,[]),this.config.questions[t].forEach((function(n,s){i["a"].set(e.config.questions[e.newLang],s,new l),e.config.questions[e.newLang][s].id=e.config.questions[t][s].id})),this.config.langs.push(this.newLang),this.newLang=""},removeLang:function(e){this.config.langs.splice(this.config.langs.indexOf(e),1),delete this.config.questions[e]}}}),_=y,q=(n("fd8d"),Object(m["a"])(_,b,x,!1,null,"7e3daebd",null)),C=q.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"views"},[n("label",[e._v("View")]),e._l(e.views,(function(t){return n("button",{key:t,class:{active:t===e.currentView},on:{click:e.changeView}},[e._v(e._s(t))])})),"Flow"===e.currentView?n("label",[n("b",[e._v(e._s(e.lang0.toUpperCase()))])]):e._e()],2),e._l(e.config.questions[e.lang0],(function(t,i){return n("div",{key:t.id,staticClass:"container"},[n("button",{staticClass:"remove",on:{click:function(t){return e.removeQuestion(i)}}},[e._v("Remove")]),n("QuestionComp",{attrs:{currentView:e.currentView,question:e.getQuestionInAllLangs(i),lang0:e.lang0,config:e.config,i:i+1}})],1)})),e.config.langs[0]?n("div",{staticClass:"newQuestion"},[n("button",{on:{click:e.newQuestion}},[e._v("New Question")])]):n("div",{staticClass:"newQuestion"},[n("h2",[e._v("Add a language to edit questions")])])],2)},k=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"questions"},[n("label",[e._v("Question "+e._s(e.i))]),e._l(e.question,(function(t,i){return n("div",{key:i},[n("div",{staticClass:"questionHolder",class:{hidden:i!==e.lang0&&"Flow"===e.currentView}},["Flow"!==e.currentView?n("div",{staticClass:"span"},[e._v(e._s(i))]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"qlang.question"}],staticClass:"question",attrs:{type:"text",placeholder:"What to ask ?"},domProps:{value:t.question},on:{input:function(n){n.target.composing||e.$set(t,"question",n.target.value)}}}),n("div",{staticClass:"span expand",class:{hidden:"Translation"===e.currentView},on:{click:e.toggle}},[e._v("➕")])]),n("div",{staticClass:"content",class:{hidden:i!==e.lang0&&"Flow"===e.currentView}},[n("div",[n("label",[e._v("Redirect to")]),n("Redirect",{attrs:{qId:t.id,holder:t,lang:i,config:e.config}})],1),n("div",{staticClass:"dual"},[n("div",[n("label",[e._v("Columns")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.col,expression:"qlang.col"}],attrs:{type:"number",min:"1"},domProps:{value:t.col},on:{input:function(n){n.target.composing||e.$set(t,"col",n.target.value)}}})]),n("div",[n("label",[e._v("Rows")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.row,expression:"qlang.row"}],attrs:{type:"number",min:"1"},domProps:{value:t.row},on:{input:function(n){n.target.composing||e.$set(t,"row",n.target.value)}}})])]),n("div",{staticClass:"clear"}),n("div",{staticClass:"dual"},[n("div",[n("label",[e._v("Min")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.min,expression:"qlang.min"}],attrs:{type:"number",min:"1"},domProps:{value:t.min},on:{input:function(n){n.target.composing||e.$set(t,"min",n.target.value)}}})]),n("div",[n("label",[e._v("Max")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.max,expression:"qlang.max"}],attrs:{type:"number",min:"1"},domProps:{value:t.max},on:{input:function(n){n.target.composing||e.$set(t,"max",n.target.value)}}})])]),n("div",{staticClass:"clear"}),n("Answer",{attrs:{options:t.options,config:e.config,lang:i,qId:t.id}})],1)])}))],2)},O=[],Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("div",{staticClass:"holderRedirect"},[n("p",{staticClass:"selector",on:{click:e.toggleList}},[e._v(e._s(e.selectedBind))]),n("div",{staticClass:"optionsHolder"},[e._l(e.questionsChoice,(function(t,i){return n("p",{key:t.id+i,staticClass:"options",attrs:{value:t.id},on:{click:function(n){return e.updateNext(n,t)}}},[e._v(e._s(t.question))])})),n("p",{staticClass:"options finish",on:{click:function(t){return e.updateNext(t,-1)}}},[e._v("Finish")])],2)])])])},N=[],S=(n("f0f5"),{name:"Redirect",props:["holder","lang","config","qId"],data:function(){return{next:!1,selected:"Choose a question or the end",id:""}},methods:{slide:function(e){return"translateY("+100*e+"%)"},toggleList:function(e){e.target.classList.toggle("active");var t=e.target.nextElementSibling;"block"===t.style.display?t.style.display="none":t.style.display="block"},updateNext:function(e,t){var n=e.target.parentElement.parentElement.querySelector(".selector");-1!==t?(this.id=t.id,this.holder.next=t.id):(this.id=-1,this.holder.next=-1),n.dispatchEvent(new Event("click"))}},watch:{holder:{deep:!0,handler:function(){this.id=this.holder.next}}},computed:{questionsChoice:function(){var e=this,t=[];return this.config.questions[this.lang].forEach((function(n,i){if(n.id===e.qId)return e.next=!0;var s={};s=e.next?{id:n.id,question:"Next Question: "+(n.question||"Question "+(i+1))}:{id:n.id,question:"Question "+(i+1)+" "+n.question},t.push(s),e.next=!1})),this.next=!1,t},selectedBind:function(){var e=this;if(-1===this.id)return"Finish";var t=this.questionsChoice.find((function(t){return t.id===e.id}));return t?t.question?t.question:"Question n°"+t.id+" (no question text yet)":this.selected}}}),j=S,$=(n("ced6"),Object(m["a"])(j,Q,N,!1,null,"95f61ac8",null)),P=$.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"options",on:{click:e.toggleOptions}},[e._v("Options")]),n("div",{staticClass:"answer"},e._l(e.options,(function(t,i){return n("div",{key:i},[n("div",{staticClass:"tab2"},[n("label",[e._v("Src")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.src,expression:"answer.src"}],attrs:{type:"text",placeholder:"Image source"},domProps:{value:t.src},on:{input:function(n){n.target.composing||e.$set(t,"src",n.target.value)}}})]),n("div",{staticClass:"tab2"},[n("label",[e._v("Redirect to")]),n("Redirect",{attrs:{holder:t,lang:e.lang,config:e.config,qId:e.qId}})],1)])})),0)])},T=[],H={name:"Answer",props:["options","config","lang","qId"],components:{Redirect:P},methods:{toggleOptions:function(e){e.target.classList.toggle("optionactive");var t=e.target.nextElementSibling;t.style.maxHeight?t.style=null:t.style.maxHeight="max-content"}}},I=H,M=(n("082a"),Object(m["a"])(I,V,T,!1,null,"816cc26e",null)),R=M.exports,A={name:"QuestionComp",props:["currentView","question","lang0","config","i"],components:{Answer:R,Redirect:P},methods:{updateQuestion:function(e,t){e.question=t},toggle:function(e){"➕"===event.target.innerText?event.target.innerText="➖":event.target.innerText="➕";var t=event.target.parentNode;t.classList.toggle("active");var n=t.nextElementSibling;n.style.maxHeight?n.style=null:n.style.maxHeight="max-content"}},watch:{question:{deep:!1,handler:function(e){for(var t in e)for(var n in e[t])"question"!==n&&(e[t][n]=e[this.lang0][n])}},currentView:function(){var e,t=document.getElementsByClassName("questionHolder");for(e=0;e<t.length;e++){var n=t[e].querySelector(".expand");"➖"===n.innerText&&(n.innerText="➕");var i=t[e].nextElementSibling;i.style.maxHeight&&(i.style.maxHeight=null)}}}},F=A,J=(n("4a26"),Object(m["a"])(F,E,O,!1,null,"5d651df6",null)),B=J.exports,D={name:"Questions",props:["config"],data:function(){return{currentView:"Flow",views:["Flow","Translation","Detail"]}},components:{QuestionComp:B},methods:{changeView:function(e){this.currentView=e.target.innerText},getQuestionInAllLangs:function(e){var t=this,n={};return this.config.langs.forEach((function(s){t.config.questions[s]||i["a"].set(t.config.questions,s,[new l]),n[s]=t.config.questions[s][e]})),n},newQuestion:function(){var e=this;this.config.langs.forEach((function(t){var n="q"+Date.now();i["a"].set(e.config.questions[t],e.config.questions[t].length,new l),e.config.questions[t][e.config.questions[t].length-1].id=n}))},removeQuestion:function(e){var t=this;this.config.langs.forEach((function(n){t.config.questions[n].splice(e,1)}))}},computed:{lang0:function(){return this.config.langs[0]?this.config.langs[0]:""}}},G=D,K=(n("ecaf"),Object(m["a"])(G,L,k,!1,null,"3004c8d0",null)),U=K.exports,W={name:"Collapsible",props:["name","childComponent","config"],components:{Main:w,Langues:C,Questions:U},methods:{toggle:function(e){e.target.classList.toggle("active");var t=e.target.nextElementSibling;t.style.maxHeight?t.style=null:t.style.maxHeight="max-content"}}},Y=W,z=(n("7fc0"),Object(m["a"])(Y,u,d,!1,null,"321ebea8",null)),X=z.exports,Z={name:"App",components:{Collapible:X},data:function(){return{config:new c,msg:""}},watch:{},methods:{save:function(){var e=JSON.stringify(this.config);console.log(e);var t=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:123});document.dispatchEvent(t),this.msg="Json Stringified in console"}}},ee=Z,te=(n("034f"),Object(m["a"])(ee,s,o,!1,null,null,null)),ne=te.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(ne)}}).$mount("#app")},"7fc0":function(e,t,n){"use strict";var i=n("5234"),s=n.n(i);s.a},"872b":function(e,t,n){},"88dd":function(e,t,n){},"983a":function(e,t,n){},ced6:function(e,t,n){"use strict";var i=n("983a"),s=n.n(i);s.a},ecaf:function(e,t,n){"use strict";var i=n("3a4c"),s=n.n(i);s.a},fd8d:function(e,t,n){"use strict";var i=n("872b"),s=n.n(i);s.a}});
//# sourceMappingURL=app.4858d901.js.map